mixin slide(names, slideClasses)
  if names
    section(class=names+' '+slideClasses, data-bespoke-backdrop='backdrop ' + names.split(' ').map(function(name) { return 'backdrop--' + name; }).join(' '))
      block
  else
    section
      block

doctype html
html
  head
  meta(charset='utf-8')
  meta(name='viewport', content='width=device-width, initial-scale=1, maximum-scale=1')
  title Continuous Delivery as Code

  link(rel='stylesheet', type='text/css', href='build/build.css')
  link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css')

  body

    article

      +slide('title')
        h2.gothicfont.smallgothic Continuous Delivery as <span class='important'>Code</span>
        h3.bold with <span class='important'>Jenkins</span> and <span class='important'>Gradle</span>
        i.fa.fa-twitter-square <span class='gothicfont' style='font-size:1em; letter-spacing: 0.05em;'>&nbsp;alexsotob &nbsp;</span>
      
      +slide
        div.main-wrap
          div.leftbar
            h2.gothicfont(style='font-size:2em') Alex Soto
            br
            h2.gothicfont.important(style='font-size:1em') CloudBees Engineer
            h2.gothicfont(style='font-size:1em') Open Source Advocate
            h2.gothicfont.important(style='font-size:1em') @alexsotob
            img(src='../images/public.png', style="width:40%")
          div.rightbar
            img(src='images/family.jpg', style="width:100%")
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('adarise')
        h2.biggothic.gothicfont Questions
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('mac')
        h1.small <span class='important'>Software</span> is eating the <span class='important'>world</span>
        aside(role='note') Every business is in the sw business
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        img.schemash(src='images/cockpit.jpg')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        img.schemash(src='images/tesla-update.jpg')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        img.schemash(src='images/airport.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        img.schemash(src='images/casino.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('speed')
        ul.lists
          li.bigfont Faster
          li.bigfont Sooner
          li.bigfont Better
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('gears')
        h2.gothicfont What is <span class='important'>Continuous Delivery</span>?
        aside(role='note') A Build tool? CI server? Automated tests, quality, deployment,
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('money')
        h2.gothicfont Deliver <span class='important'> Business Value</span> more <span class='important'>Frequently</span>
        aside(role='note') Money, fast feedback
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      // +slide('pilars')
      //  div.dividebyfour.NW
      //    img.bullet.bespoke-bullet.bespoke-bullet-active.bespoke-bullet-current(src='images/deliverybox.jpg', style="width:100%; height:100%")
      //  div.dividebyfour.NE
      //    img.bullet.bespoke-bullet.bespoke-bullet-inactive(src='images/time.jpg', style="width:100%;height:100%")
      //  div.dividebyfour.SW
      //    img.bullet.bespoke-bullet.bespoke-bullet-inactive(src='images/automate.jpg', style="width:100%;height:100%")
      //  div.dividebyfour.SE
      //    img.bullet.bespoke-bullet.bespoke-bullet-inactive(src='images/test.jpg', style="width:100%;height:100%")
      //  aside(role='note') Automate makes everything reproducible

      +slide
        img.schemash(src='images/pipeline.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('adabored')
        h2.gothicfont.smallgothic No More Theory <span class='important'>Please!!</span>
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2.gothicfont.smallgothic Commit Stage
        img.schemas(src='images/compile.png')
        aside(role='note') Notice a lot of tests, automatic tests
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2.gothicfont.filegothic build.gradle
        pre.small.language-javascript
          code.bullet.bespoke-bullet.bespoke-bullet-active.bespoke-bullet-current.
              apply plugin: 'war'

          br
          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
              allprojects {
                sourceCompatibility = 1.8
                targetCompatibility = 1.8

                group = 'org.starwars'
                version = '1.0-SNAPSHOT'

                repositories {
                  mavenCentral()
                }
              }

          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
              dependencies {
                providedCompile 'javax:javaee-api:7.0'
              }

        div.square.bullet.bespoke-bullet.bespoke-bullet-inactive ./gradlew compileJava
        div.square.bullet.bespoke-bullet.bespoke-bullet-inactive Gradle 2.12 > compileOnly scope
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2.gothicfont.filegothic build.gradle
        pre.small.language-javascript
          code.bullet.bespoke-bullet.bespoke-bullet-active.bespoke-bullet-current.
              dependencies {
                testCompile 'junit:junit:4.12'
                testCompile 'org.hamcrest:hamcrest-library:1.3'
                testCompile('org.mockito:mockito-all:1.10.19') {
                  exclude group: 'org.hamcrest'
                }
              }

          br
          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
              test {
                systemProperties System.getProperties()
                systemProperties['starwars_planets_url'] = 'http://preproduction:8080/starwars'
              }

        div.square.bullet.bespoke-bullet.bespoke-bullet-inactive ./gradlew :test
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('test')
        h2.gothicfont.smallgothic <span class='important'>Unit</span> tests are <br/>not <span class='important'>Enough</span>
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        img.schemashh(style='width:75%;height:75%', src='images/folders.png')

      +slide
        h2.gothicfont.filegothic settings.gradle
        pre.small.language-javascript
          code.bullet.bespoke-bullet.bespoke-bullet-active.bespoke-bullet-current.
            include 'integration-test'

        h2.gothicfont.filegothic integration-test/build.gradle
        pre.small.language-javascript
          code.bullet.bespoke-bullet.bespoke-bullet-active.bespoke-bullet-current.
              test {
                if (project.hasProperty("happyPath")) {
                    filter {
                        includePatterns = ["org.starwars.PlanetServiceAPITest.shouldReturnTheAverage"]
                    }
                }
              }

        div.square.bullet.bespoke-bullet.bespoke-bullet-inactive ./gradlew :integration-test:test -PhappyPath

        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('pmd')
        h2.gothicfont.smallgothic Code <span class='important'>Analysis</span>
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('elsa')
        h2.gothicfont.smallgothic Let <span class='important'>Developers</span> Go
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('arquillian')
        h2.gothicfont.smallgothic <span class='important'>Integration</span> Tests
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('jacoco')
        h2.gothicfont.smallgothic Code <span class='important'>Coverage</span>
        aside(role='note') On the fly bytecode instrumentation, no modification of source code, exec

      +slide
        h2.gothicfont.filegothic build.gradle
        pre.small.language-javascript
          code.bullet.bespoke-bullet.bespoke-bullet-active.bespoke-bullet-current.
              apply plugin: 'jacoco'

          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
              jacoco {
                toolVersion = "0.7.5.201505241946"
              }

          br
          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
              task jacocoRootTestReport(type: JacocoReport) {
                  sourceSets sourceSets.main

                  def jacocoTestFiles = ["$buildDir/jacoco/test.exec"]
                  subprojects.each { p ->
                      def coverageFileLocation = "$p.buildDir/jacoco/test.exec"
                      if (new File(coverageFileLocation).exists()) {
                          jacocoTestFiles << coverageFileLocation
                      }
                  }

          br
          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
              &nbsp;&nbsp;&nbsp;&nbsp;executionData files(jacocoTestFiles)
                  reports {
                      xml.enabled false
                      csv.enabled false
                  }
              }

        div.square.bullet.bespoke-bullet.bespoke-bullet-inactive ./gradlew jacocoRootTestReport
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        img.schemas(src='images/coverage.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('version')
        h2.gothicfont.smallgothic <span class='important'>Versioning</span> Strategy
        aside(role='note') Every build is a potential release
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2.gothicfont.filegothic 1.0-SNAPSHOT -> 1.0.134
        img(src='images/jenkins.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2.gothicfont.filegothic gradle/versioning.gradle
        pre.small.language-javascript
          code.bullet.bespoke-bullet.bespoke-bullet-active.bespoke-bullet-current.
            import java.util.regex.Matcher
            import java.util.regex.Pattern

            Pattern SHORT_VERSION_PATTERN = ~/(\d+)\.(\d+)/
            Pattern SNAPSHOT_SHORT_VERSION_PATTERN = ~/$WHITESPACE$SHORT_VERSION_PATTERN$SNAPSHOT_IDENTIFIER$WHITESPACE/
            Matcher m = checkInputAgainstPattern(version, SNAPSHOT_SHORT_VERSION_PATTERN)

          br
          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
            if (m) {
                Integer major = m[0][1].toInteger()
                Integer minor = m[0][2].toInteger()
                project.version = new ProjectVersion(major, minor, System.env.SOURCE_BUILD_NUMBER)
            }

          br
          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
            class ProjectVersion {
                Integer major
                Integer minor
                String buildNumber
                @Override
                String toString() {
                    String fullVersion = "$major.$minor"
                    if(buildNumber) fullVersion += ".$buildNumber"
                    return fullVersion
                }
            }
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('packaging')
        h2.gothicfont.smallgothic <span class='important'>Packaging</span> Application
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2.gothicfont.filegothic build.gradle
        pre.small.language-javascript
          code.bullet.bespoke-bullet.bespoke-bullet-active.bespoke-bullet-current.
            allprojects {
              apply from: "$rootDir/gradle/versioning.gradle"
            }

          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
            war {
                manifest {
                    attributes "Implementation-Version": project.version.toString()
                }
            }
        div.square.bullet.bespoke-bullet.bespoke-bullet-inactive ./gradlew assemble
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('books')
        h2.gothicfont.smallgothic <span class='important'>Publishing</span>
        aside(role='note') Store artifact into repo (artifactory/nexus) for reusing. Docker.
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2.gothicfont.filegothic build.gradle
        pre.small.language-javascript
          code.bullet.bespoke-bullet.bespoke-bullet-active.bespoke-bullet-current.
            apply plugin: 'maven-publish'

            task sourceJar(type: Jar) {
              from sourceSets.main.allJava
            }

            task javadocJar (type: Jar, dependsOn: javadoc) {
                from javadoc.destinationDir
            }

          br
          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
            ext.repoUrl = "$config.binaryRepository.url/$config.binaryRepository.name"
            publishing {
              publications {
                  webApp(MavenPublication){
                    from components.web
                    artifact sourceJar {classifier "sources"}
                    artifact javadocJar {classifier "javadoc"}
                  }
              }
              repositories {
                maven { url repoUrl}
              }
            }

        div.square.bullet.bespoke-bullet.bespoke-bullet-inactive ./gradlew publish
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2.gothicfont.smallgothic Acceptance Stage
        img.schemas(src='images/deploy.png')
        aside(role='note') Notice a lot of tests, automatic tests, deployment same artifacts to different env
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('serenity')
        h2.gothicfont.smallgothic <span class='important'>Acceptance</span> Tests
        h3 with Serenity BDD
        aside(role='note') Automated Acceptance Testing with Style, create easy AT for JUnit, JBehave or Cucumber integrating to generate test reports (features to do, done, failing) forcing you to use the best practices (Screenplay pattern, Steps pattern, PageObjects, ...)
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2.gothicfont.smallgothic Report
        img.schemash(src='images/serentiy-report.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('gatling')
        h2.gothicfont.smallgothic <span class='important'>Stress</span> Tests
        h3 with Gatling
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2.gothicfont.smallgothic Report
        img.schemashh(src='images/gatling-report.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('contract')
        h2.gothicfont.smallgothic <span class='important'>Contract</span> Tests
        h3 with Pact-JVM
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2.gothicfont.smallgothic Contract Driven Tests
        img.schemashh(src='images/pact_two_parts.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('orch')
        h2.gothicfont.smallgothic <span class='important'>Orchestrating</span> Stages
        h3 with Jenkins

      +slide
        img.schemash(src='images/jenkinseco.jpg')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        img.schemashh(src='images/freestyle.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        img.schemashh(src='images/fs-define-test.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        img.schemashh(src='images/fs-define-deploy.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        img.schemashh(src='images/fs-result-test.png')
        aside(role='note') Spread everything
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        img.schemash(src='images/archiveartifacts.png' style='height:70%')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        img.schemash(src='images/copyartifacts.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        img.schemashh(src='images/fs-overview.png')
        aside(role='note') Spread everything
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('alexoh')
        h2.gothicfont.smallgothic No More <span class='important'>Jobs</span> Please
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('railyard')
        h2.gothicfont.smallgothic Jenkins <span class='important'>Pipeline-as-Code</span>
        aside(role='note') Groovy DSL
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2.gothicfont.smallgothic.underline Features of Pipeline Plugin

        ul.lists
          li Configuration in Source Repositories
          li Less click-and-type, more code
          li From simple to complex
          li Survives Jenkins restarts & connection losses
          li Reusable Definitions
          li Build history/trend segregated per branches
          li UI

      +slide
        img.schemash(src='images/pipelineplug.png')

      +slide
        h2.gothicfont.filegothic Jenkinsfile (1/3)
        pre.small.language-groovy
          code.bullet.bespoke-bullet.bespoke-bullet-active.bespoke-bullet-current.
            stage 'compile'
            node {
                    checkout scm
                    sh "./gradlew clean compileJava"
                    stash excludes: 'build/', includes: '**', name: 'source'
            }

          br
          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
            stage 'commitTest'
            parallel 'unit' : {
                node {
                    unstash 'source'
                    sh "./gradlew :test"
                    stash includes: 'build/jacoco&#47;*.exec', name: 'unitCodeCoverage'
                    step([$class: 'JUnitResultArchiver', testResults: '**/build/test-results/*.xml'])
                }
            }, 'integration': {
                node {
                    unstash 'source'
                    sh "./gradlew -PhappyPath :integration-test:test"
                    step([$class: 'JUnitResultArchiver', testResults: '**/build/test-results/*.xml'])
                }
            }
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2.gothicfont.filegothic jenkins/gradle.groovy
        pre.small.language-javascript
          code.bullet.bespoke-bullet.bespoke-bullet-active.bespoke-bullet-current.
            def assemble(String switches = null) {
                run 'assemble', switches
            }

          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
            void run(String tasks, String switches = null) {
                String gradleCommand = "";
                gradleCommand += './gradlew '
                gradleCommand += tasks
                if(switches != null) {
                    gradleCommand += ' '
                    gradleCommand += switches
                }
                sh gradleCommand.toString()
            }

          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
            return this;
        h2.gothicfont.filegothic Jenkinsfile (2/3)
        pre.small.language-javascript
          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
            def gradle = load 'jenkins/gradle.groovy'

          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
            node('linux') {
                unstash 'source'
                withEnv(["SOURCE_BUILD_NUMBER=${env.BUILD_NUMBER}"]) {
                    gradle.assemble()
                }
            }

        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2.gothicfont.filegothic Jenkinsfile (3/3)
        pre.small.language-javascript
          code.bullet.bespoke-bullet.bespoke-bullet-active.bespoke-bullet-current.

            input message: "Deploy Application to QA ?"

          br
          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
            stage name: 'Deploy to QA', concurrency: 1
            node {
                echo "Application Deployed to QA."
        
          br
          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
            &nbsp;&nbsp;  withCredentials([[$class: 'UsernamePasswordMultiBinding',
            &nbsp;&nbsp;  credentialsId: 'MyID', usernameVariable: 'GIT_USERNAME',
            &nbsp;&nbsp;  passwordVariable: 'GIT_PASSWORD']]) {

            &nbsp;&nbsp;    sh "git tag -a some_tag -m 'Jenkins'"
            &nbsp;&nbsp;    sh "git push https://${env.GIT_USERNAME}:${env.GIT_PASSWORD}@<REPO> --tags"
            &nbsp;&nbsp;  }
            &nbsp;&nbsp;  hipchatSend(message: 'Build tagged')
            }
        img.schemash(src='images/credentials.png', style='height:20%')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('whale')
        h2.gothicfont.smallgothic <span class='important'>Docker</span> Pipeline Integration

      +slide
        h2.gothicfont.filegothic Jenkinsfile
        pre.small.language-javascript
          code.bullet.bespoke-bullet.bespoke-bullet-active.bespoke-bullet-current.
              docker.withRegistry('https://lordofthejars-docker-continuous_delivery.bintray.io', 'd4fc3fa9-39f7-47ea-a57c-795642f90989') {
                  git 'git@github.com:lordofthejars/busybox.git'
                  def newApp = docker.build "lordofthejars-docker-continuous_delivery.bintray.io/lordofthejars/javatest:${env.BUILD_TAG}"
                  newApp.push()
              }

          br
          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
              docker.image('lordofthejars/javatest').withRun {c ->
                sh './executeTests.sh'
              }

          br
          code.bullet.bespoke-bullet.bespoke-bullet-inactive.
              docker.image('8-jdk-alpine').inside('-v ~/.gradle:/root/.gradle -u 1000:50') {
                // workspace is mounted inside image automatically
                sh './gradlew compileJava'
              }
        aside(role='note') Multiple scm
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

          
      +slide
        img.schemash(src='images/ui.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('branch')
        h2.gothicfont.smallgothic <span class='important'>Multibranch</span> Pipeline
        aside(role='note') Jenkinsfile
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars
      
      +slide
        h2.gothicfont.filegothic Multibranch Pipeline job
        img.schemas(src='images/multibranch.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars      
      
      +slide
        h2.gothicfont.filegothic Dashboard with detected Branches
        img.schemas(src='images/multibranchrun.png')
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars  

      // +slide
      //  iframe(src='https://localhost:57575/')

      +slide('adathink')
        h2.gothicfont.smallgothic Let's <span class='important'>wind down</span>
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('puzzle')
        h2.gothicfont.smallgothic <span class='important'>Only One</span> Piece of <br/> the <span class='important'>Jigsaw</span>
        aside(role='note') Test, Culture, Metrics, have a crappy process and you automate it, you get a crappy automated process
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide('penalty')
        h2.gothicfont.smallgothic Follow the <span class='important'>Rules</span>, <br/>Adapt to your <span class='important'>Needs</span>
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        h2 CloudBees
        i.fa.fa-heart.important.fa-2x
        h2 Jenkins

      +slide('deming')
        h4 It is <span class='important'>not necessary</span> to change. <br/> <span class='important'>Survival</span> is <span class='important'>not mandatory</span>.
        h3 W. Edwards Deming
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars


      +slide
        img.avatar(src='images/profile.jpg')
        br
        a(href='http://www.slideshare.net/asotobu/jenkins-docker', style='border:none')
          i.fa.fa-slideshare
          h3 http://www.slideshare.net/asotobu/continuous-delivery-as-code
          i.fa.fa-envelope
          h3 asotobu@gmail.com
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars

      +slide
        a(href='github.com/lordofthejars/starwars', style='border:none')
          h5(style='font-size: .55em') https://github.com/lordofthejars/starwars
        a(href='https://jenkins.io/', style='border:none')
          h5(style='font-size: .55em') https://jenkins.io/
        a(href='https://jenkins.io/solutions/pipeline/', style='border:none')
          h5(style='font-size: .55em') https://jenkins.io/solutions/pipeline/
        a(href='http://arquillian.org/', style='border:none')
          h5(style='font-size: .55em') http://arquillian.org/
        a(href='http://www.thucydides.info/', style='border:none')
          h5(style='font-size: .55em') http://www.thucydides.info/
        a(href='http://gatling.io/', style='border:none')
          h5(style='font-size: .55em') http://gatling.io/
        a(href='https://github.com/DiUS/pact-jvm', style='border:none')
          h5(style='font-size: .55em') https://github.com/DiUS/pact-jvm
        a(href='https://gradle.org/')
          h5(style='font-size: .55em') https://gradle.org/
        div.footer
          i.fa.fa-twitter &nbsp;alexsotob&nbsp;
          i.fa.fa-github &nbsp;lordofthejars


    script(src='build/build.js')
